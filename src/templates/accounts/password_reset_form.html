{% extends 'layout_registration.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
    
    <div class="container ingreso p-3 pt-5">
    {% comment %} {{ if validlink }} {% endcomment %}
        <h1 class="pb-5">Ingrese su nueva contraseña</h1>
        <form method="post" class="p-3">
            {% csrf_token %}
            <label for="id_new_password1">Nueva contraseña:</label>
            {{ form.new_password1|add_class:"form-control" }}
            <label for="id_new_password2" class="pt-4">Confirme contraseña:</label>
            {{ form.new_password2|add_class:"form-control" }}
            
            <div class="mt-3 pt-3">
                <input type="submit" name="Cambiar mi contrasena" value="Cambiar contraseña" class="btn btn-outline-success">
                <a href="{% url 'login' %}" type="submit" class="btn btn-outline-danger">Cancelar</a> 
            </div>
        </form>
        
    {% comment %} {{ else }}
        <h1>Enlace invalido: este enlace ya ha sido utilizado</h1>
    {{ endif }} {% endcomment %}
    </div>
    <script>
        function manual(){
            Swal.fire({
                title: 'Manual',
                html: `Dentro del formulario, podemos encontrar dos campos, 
                dentro del primer recuadro nosotros deberemos indicarle al 
                sistema la nueva contraseña que deseemos asociar a nuestra 
                cuenta, seguido por el siguiente recuadro en el cual usted 
                deberá confirmar la contraseña ingresada. 
                <br><br>
                Tras llenar ambos campos con la información que usted estime 
                conveniente, puede seleccionar la opción “Cambiar Contraseña”
                <br><br>
                En caso contrario, puede fácilmente seleccionar la opción 
                “Cancelar”, la cual lo redirigirá a la pagina de inicio de sesión. 
                <br><br>
                En caso de que todos los campos e información ingresada sea 
                válida, el sistema le redirigirá automáticamente hacia una 
                página con un mensaje informativo el cual nos indica que la 
                contraseña fue reestablecida con éxito.
                `,
                showConfirmButton: true,
                confirmButtonText: 'Continuar',
            })
        }
    </script>
 
{% endblock %}