{% extends 'layout.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
  <link rel="stylesheet" href="{% static 'css/proveedores.css' %}">
    <div class="container p-3">
      <h1 class="text-center">Administracion de productos</h1>
      <div class="container mb-4">
        {% if messages %}
          <ul class="messages list-group mb-3">
            {% for message in messages %}
              <li{% if message.tags %} class="{{ message.tags }} list-group-item list-group-item-primary"{% endif %}>{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      <table class="table table-striped table-hover">
        <h3 class="titulo-proveedor text-center p-2 mb-0">Productos</h3>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Stock</th>
            <th>Precio</th>
            <th>Descripcion</th>
            <th>Stock</th>
            <th>Stock critico</th>
            <th>Fecha de vencimiento</th>
            <th>Codigo de barra</th>
            <th>Familia del producto</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
        
        <!-- Recorremos los objetos o registros que tenemos en nuestra tabla 'postres' y los listamos -->
        {% for producto in object_list %}
          <tr>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.stock }}</td>
            <td>{{ producto.precio }}</td>
            <td>{{ producto.descripcion }}</td>
            <td>{{ producto.precio_compra }}</td>
            <td>{{ producto.stock }}</td>
            <td>{{ producto.stock_critico }}</td>
            <td>{{ producto.estado }}</td>
            <td>{{ producto.fecha_vencimiento }}</td>
            <td>{{ producto.codigo_barra }}</td>
            <td>{{ producto.familia_producto }}</td>
            <td>
      
              <!-- Usaremos un formulario que realizarÃ¡ la tarea de eliminar un registro o postre desde la misma tabla HTML -->                        
              <form method="POST" action="eliminar/{{producto.id}}">
                {% csrf_token %}
                <div class="btn-group">
      
                  <!-- Creamos 3 botones que son ver, Editar y Eliminar, nos sirven para gestionar nuestros registros o postres -->
                  <a href="detalle/{{producto.id}}" title="Ver" type="button" class="btn btn-success">Ver </a>
                  <a href="editar/{{producto.id}}" title="Editar" type="button" class="btn btn-primary">Editar </a>
                </div>
              </form>
      
            </td>
          </tr>
        {% endfor %}
      
        </tbody>
      </table>

      <div align="left" class="btn_crear mb-3">
        <a href="{% url 'crearProducto' %}" type="button" class="btn btn-primary">Crear</a>
      </div>

    </div>
{% endblock %}